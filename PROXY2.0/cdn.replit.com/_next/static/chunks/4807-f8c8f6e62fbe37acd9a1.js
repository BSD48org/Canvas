"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4807],{32046:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(79056),o=t(67294);function u(e,r){var t=o.useState(e),u=(0,n.Z)(t,2),i=u[0],a=u[1];return o.useEffect((function(){var t=setTimeout((function(){a(e)}),r);return function(){clearTimeout(t)}}),[e]),i}},37813:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(67294);function o(e){var r=(0,n.useState)(!1),t=r[0],o=r[1],u=(0,n.useRef)(0);return[t,(0,n.useMemo)((function(){return{onDragEnter:function(e){e.preventDefault(),u.current++,o(!0)},onDragLeave:function(e){e.preventDefault(),u.current--,0===u.current&&o(!1)},onDrop:function(r){var t,n;r.preventDefault(),u.current=0,o(!1),r.persist();var i=Array.from(null!==(t=null===r||void 0===r||null===(n=r.dataTransfer)||void 0===n?void 0:n.files)&&void 0!==t?t:[]);0!==i.length?e(i):e(null)},onDragOver:function(e){e.preventDefault()}}}),[e])]}},54298:function(e,r,t){t.d(r,{Z:function(){return h}});var n=t(79056),o=t(67294),u=t(16496),i=t.n(u),a=t(61941),c=t(80723);var l=t(37813),s=t(97131),f=t(30266),d=t(809),p=t.n(d),v=t(25731),g=t(96887),b=t(91682);function h(e){var r=e.initialValue,t=e.textTriggers,u=(0,o.useState)(r||""),d=u[0],h=u[1],y=(0,o.useRef)(null),Z=function(e){var r=e.textTriggers,t=e.applySuggestion,u=(0,o.useRef)(null),l=(0,a.Z)(r),s=(0,n.Z)(l,2),f=s[0].suggestions,d=s[1],p=(0,c.Kb)({items:(null===f||void 0===f?void 0:f.results)||[],defaultHighlightedIndex:0,isOpen:Boolean(f),onSelectedItemChange:function(e){var r=e.selectedItem;if(f&&r){var n=u.current;if(n){var o=f.applySuggestion({targetValue:n.value,suggestionValue:r.value}),i=o.fullValue,a=o.cursorIndex;t({fullValue:i,cursorIndex:a})}}}}),v=(0,o.useMemo)((function(){if(f&&u.current)return i()(u.current,f.textTrigger.index)}),[f]);return{ref:(0,o.useCallback)((function(e){u.current=e,d(e)}),[d]),suggestions:null===f||void 0===f?void 0:f.results,caretCoordinates:v,combobox:p}}({textTriggers:t,applySuggestion:function(e){var r=e.cursorIndex,t=e.fullValue;h(t),setTimeout((function(){y.current&&y.current.setSelectionRange(r,r)}))}}),m=Z.combobox,O=Z.caretCoordinates,w=Z.suggestions,x=Z.ref,C=function(e){var r=(0,o.useRef)(null),t=(0,g.Z)(e.onChange),n=(0,g.Z)(e.onError),u=(0,o.useCallback)((function(e){r.current=e}),[]),i=(0,o.useCallback)(function(){var e=(0,f.Z)(p().mark((function e(o){var u,i,a,c,l,f,d,g,h,y;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.current){e.next=3;break}return e.abrupt("return");case 3:return i=u.value,a=u.selectionStart?u.selectionStart:i.length,c=o.map((function(e){return"![Uploading ".concat(e.name,"...]()")})),l=i.substr(0,a),f=i.substr(a),d=(0,s.Z)(c),l&&d.unshift(l),f&&d.push(f),t.current(d.join("\n")),g=[],e.prev=13,e.next=16,(0,v.L0)(o);case 16:g=e.sent,e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(13),n.current(e.t0),e.abrupt("return");case 23:return h=[],e.prev=24,e.next=27,Promise.all(g.map((function(e){return(0,b.uz)("/data/images/upload",{image:e})})));case 27:h=e.sent,e.next=34;break;case 30:return e.prev=30,e.t1=e.catch(24),n.current(e.t1),e.abrupt("return");case 34:if(r.current){e.next=36;break}return e.abrupt("return");case 36:y=c.reduce((function(e,r,t){var n=o[t].name.replace(/\.[^/.]+$/,""),u=h[t],i=u instanceof Error?"Error uploading":u.url;return e.replace(r,"![".concat(n,"](").concat(i,")"))}),r.current.value),t.current(y);case 38:case"end":return e.stop()}}),e,null,[[13,19],[24,30]])})));return function(r){return e.apply(this,arguments)}}(),[t,n]),a=(0,o.useCallback)((function(e){var r=Array.from(e.clipboardData.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e}));r.length&&i(r)}),[i]);return{ref:u,handleFiles:i,handlePaste:a}}({onChange:h,onError:function(){}}),k=C.handleFiles,j=C.handlePaste,P=C.ref,E=(0,l.Z)((function(e){null!==e&&k(e)})),S=(0,n.Z)(E,2)[1],D=(0,o.useCallback)((function(e){y.current=e,x(e),P(e)}),[x,P]),L=(0,o.useCallback)((function(e,r){var t;null===(t=y.current)||void 0===t||t.setSelectionRange(e,r)}),[]);return{ref:D,value:d,setValue:h,dropZoneHanlders:S,handlePaste:j,combobox:m,caretCoordinates:O,suggestions:w,setSelectionRange:L}}},30825:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(30266),o=t(79056),u=t(809),i=t.n(u),a=t(67294),c=t(91682),l=t(25731);function s(e){var r=e.onUploadPreview,t=e.onUpload,u=e.onError,s=a.useState(!1),f=(0,o.Z)(s,2),d=f[0],p=f[1];return{isLoading:d,uploadImage:a.useCallback(function(){var e=(0,n.Z)(i().mark((function e(n){var o,a,s,f,d,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,(0,l.L0)(n);case 3:if(o=e.sent,!(n.size>1e7)){e.next=7;break}return u(new Error("This image is over the ".concat("10MB"," maximum"))),e.abrupt("return",!1);case 7:return r({dataUrl:o}),a=null,e.prev=9,e.next=12,(0,c.uz)("/data/images/upload",{image:o});case 12:a=e.sent,e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(9),s=e.t0.message.toLowerCase().includes("entity too large")?"This image is over the 1mb maximum":"Something went wrong",u(new Error(s)),e.abrupt("return",!1);case 20:if(d=(f=a).id,v=f.url,"number"===typeof d){e.next=23;break}throw new Error("Expected id");case 23:if("string"===typeof v){e.next=25;break}throw new Error("Expected url");case 25:return p(!1),e.prev=26,e.next=29,t({id:d,url:v});case 29:e.next=35;break;case 31:return e.prev=31,e.t1=e.catch(26),u(e.t1),e.abrupt("return",!1);case 35:return e.abrupt("return",!0);case 36:case"end":return e.stop()}}),e,null,[[9,15],[26,31]])})));return function(r){return e.apply(this,arguments)}}(),[u,t,r])}}},61941:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(97131),o=t(79056),u=t(67294),i=t(32046),a=t(92809);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var s=function(e){return/\s/.test(e)};function f(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=u.useState(null),i=(0,o.Z)(n,2),a=i[0],c=i[1],f=u.useCallback(c,[c]),d=u.useRef(r);u.useEffect((function(){d.current=r}),[r]);var p=u.useState(null),v=(0,o.Z)(p,2),g=v[0],b=v[1];return u.useEffect((function(){if(a){var e=function(){var e=a.value,r=a.selectionStart;if(r){var t=1===r||s(e[r-2]||""),n=e.length?e[r-1]:null;b((function(o){if(o&&(r<o.index||0===r))return null;if(!n)return o;if(!o&&!t)return o;var u=d.current.includes(n);return o||u?o?s(n)?null:l(l({},o),{},{text:e.slice(o.index,r)}):{index:r,text:"",match:n}:o}))}else b(null)},r=function(){b(null)};return a.addEventListener("focus",e),a.addEventListener("keyup",e),a.addEventListener("blur",r),function(){b(null),a.removeEventListener("focus",e),a.removeEventListener("keyup",e),a.removeEventListener("blur",r)}}}),[a,b]),[g,f]}function d(e){var r=u.useRef(e);u.useEffect((function(){r.current=e}),[e]);var t=u.useState(!1),a=(0,o.Z)(t,2),c=a[0],l=a[1],s=u.useState(null),d=(0,o.Z)(s,2),p=d[0],v=d[1],g=f.apply(void 0,(0,n.Z)(Object.keys(e))),b=(0,o.Z)(g,2),h=b[0],y=b[1],Z=u.useRef(h);u.useEffect((function(){Z.current=h}),[h]);var m=(0,i.Z)(h,100);return u.useEffect((function(){if(m){var e=m.match,t=m.text,n=r.current[e]?r.current[e]:null;if(n){var o=!1;return l(!0),n(t).then((function(e){o||Z.current===m&&(l(!1),v({textTrigger:m,results:e,applySuggestion:function(e){var r=e.targetValue,t=e.suggestionValue,n=r.slice(0,m.index),o=t,u=r.slice(m.index+m.text.length);u&&u.startsWith(" ")||(o+=" ");var i=n+o+u;return{cursorIndex:(n+o).length+(u&&u.startsWith(" ")?1:0),fullValue:i}}}))})),function(){o=!0}}v(null)}else v(null)}),[m,v]),[{isLoading:c,suggestions:p},y]}},25731:function(e,r,t){var n;t.d(r,{Xy:function(){return u},pV:function(){return i},L0:function(){return a}}),function(e){e.ArrayBuffer="ARRAY_BUFFER",e.BinaryString="BINARY_STRING",e.DataURL="DATA_URL",e.Text="TEXT"}(n||(n={}));var o=function e(r,t){return r instanceof window.File?new Promise((function(e,o){var u=new window.FileReader;switch(u.onload=function(t){var n;null!==(n=t.target)&&void 0!==n&&n.result?e(t.target.result):o(new Error('Failed to read file "'.concat(r.name,'"')))},u.onerror=o,t){case n.ArrayBuffer:u.readAsArrayBuffer(r);break;case n.BinaryString:u.readAsBinaryString(r);break;case n.DataURL:u.readAsDataURL(r);break;case n.Text:u.readAsText(r)}})):Promise.all(Array.from(r).filter((function(e){return!!e})).map((function(r){return e(r,t)})))},u=function(e){return o(e,n.Text)},i=function(e){return o(e,n.ArrayBuffer)},a=function(e){return o(e,n.DataURL)}},23495:function(e,r,t){t.d(r,{gF:function(){return i},E8:function(){return a},Y8:function(){return c},Qs:function(){return l},bc:function(){return s}});var n=t(92809),o=t(2466),u=t.n(o),i=(t(34155).env.PROXY_SUFFIX,function(e){return{className:e.props.className,styles:e.props.children}});function a(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),o=1;o<r;o++)t[o-1]=arguments[o];t.forEach((function(r){e["on".concat(r[0].toUpperCase()).concat(r.slice(1),"Change")]=function(t){var o;o=t&&t.target&&void 0!==t.currentTarget.value?t.currentTarget.value:t,e.setState((0,n.Z)({},r,o))}}))}function c(e){if(Array.isArray(e))return e.map(c);if(e&&"object"===typeof e){var r={};for(var t in e)r[u()(t)]=e[t];return r}return"string"===typeof e?u()(e):e}function l(e){return e?e[0].toUpperCase()+e.slice(1):e}function s(e){return e.replace("GraphQL error: ","")}},10921:function(e,r,t){t.d(r,{Z:function(){return d},L:function(){return p}});t(67294);var n=t(14900),o=t(82457),u=t(49512),i=t(33058),a=t(70917),c=t(11069),l=t(35944),s=(0,a.iv)([o.l0.overflow("hidden"),o.l0.position.relative(),{border:"1px solid "+o.TV.outlineDimmest}],"",""),f={16:4,24:4,32:4,64:8,84:16};function d(e){var r=e.alt,t=e.iconUrl,a=e.size,c=void 0===a?32:a,d=c<32?4:8;if(t.endsWith(".svg")){var p=f[c],v=c-2*p;return(0,l.tZ)(n.Z,{elevated:!0,css:[o.l0.p(p),o.l0.borderRadius(d),s,o.l0.width(c),o.l0.height(c),"",""],children:(0,l.tZ)(u.Z,{css:[o.l0.position.relative(),o.l0.width(v),o.l0.height(v),"",""],children:(0,l.tZ)(i.Z,{alt:r,src:t,layout:"fill",objectFit:"contain"})})})}return(0,l.tZ)(n.Z,{elevated:!0,css:[s,o.l0.borderRadius(d),o.l0.width(c),o.l0.height(c),"",""],children:(0,l.tZ)(i.Z,{alt:r,src:t,layout:"fill",objectFit:"cover"})})}function p(e){var r=e.isLoading,t=e.alt,i=e.iconUrl,a=e.size,s=void 0===a?32:a,f=i?(0,l.tZ)(d,{alt:t,iconUrl:i,size:s}):null;return!r&&f?f:(0,l.BX)(u.Z,{css:[o.l0.position.relative(),o.l0.width(s),o.l0.height(s),"",""],children:[f,(0,l.tZ)(n.Z,{elevated:!0,css:[o.l0.borderRadius(8),o.l0.coverContainer,"opacity:0.8;",""]}),r?(0,l.tZ)(u.Z,{css:[o.l0.coverContainer,o.l0.center,o.l0.color.accentPrimaryDefault,"",""],children:(0,l.tZ)(c.Z,{})}):null]})}},26341:function(e,r,t){t.d(r,{W:function(){return p},Z:function(){return v}});var n=t(67294),o=t(10921),u=t(5537),i=t(11069),a=t(30825),c=t(49512),l=t(14900),s=t(50573),f=t(82457),d=t(35944);function p(e){var r=(0,n.useState)(null),t=r[0],o=r[1],u=(0,n.useState)(null),i=u[0],c=u[1],l=(0,a.Z)({onUpload:function(e){function r(r){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}((function(r){var t=r.url;o(null),e(t)})),onUploadPreview:function(e){var r=e.dataUrl;c(null),o(r)},onError:function(e){o(null),c(e.message)}}),s=(0,n.useCallback)((function(){return c(null)}),[]);return{uploadImage:l.uploadImage,error:i,clearError:s,previewUrl:t}}function v(e){var r=(0,n.useRef)(null),t=e.size||48;return(0,d.BX)(c.Z,{css:[f.l0.position.relative(),"cursor:pointer;&:hover .surface{opacity:0.8;}&:hover .icon{opacity:1;}",""],onClick:function(){var e;null===(e=r.current)||void 0===e||e.click()},"aria-label":e.value?"Change icon":"Upload an icon","data-microtip-position":"right",role:"tooltip",children:[e.value?(0,d.BX)(d.HY,{children:[(0,d.tZ)(o.Z,{iconUrl:e.value,size:e.size,alt:"icon"}),(0,d.tZ)(l.Z,{className:"surface",elevated:!0,css:[f.l0.borderRadius(8),f.l0.coverContainer,{opacity:e.isUploading?.8:0},"",""]}),(0,d.tZ)(c.Z,{className:"icon",css:[f.l0.coverContainer,f.l0.center,f.l0.color.accentPrimaryDefault,{overflow:"hidden",opacity:e.isUploading?1:0},"",""],children:e.isUploading?(0,d.tZ)(i.Z,{}):(0,d.tZ)(u.Z,{})})]}):(0,d.tZ)(c.Z,{css:[f.l0.center,f.l0.width(t),f.l0.height(t),f.l0.borderRadius(8),f.l0.color.foregroundDimmer,{border:"1px dashed "+f.TV.outlineDefault,"&:hover":{color:f.TV.accentPrimaryDefault,borderColor:f.TV.accentPrimaryDefault}},"",""],children:(0,d.tZ)(s.Z,{})}),(0,d.tZ)("input",{css:[[f.l0.coverContainer,{opacity:0,zIndex:-1}],"",""],ref:r,accept:"image/png, image/jpeg",type:"file",onChange:function(r){var t=r.target,n=t.validity,o=t.files;if(n.valid){var u=o?o[0]:null;u&&e.onUpload(u)}}})]})}},67871:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(67294),o=t(94573),u=t(223),i=t(82457),a=t(49512),c=t(14900),l=t(95211),s=t(70565),f=t(35944);function d(e){var r=e.colorway,t=e.closable,d=e.icon,p=e.text,v=e.closeAction,g=[i.l0.rowWithGap(4),i.l0.align.center,i.l0.p(4),i.l0.pl(8),i.l0.borderRadius(8),i.l0.flex.growAndShrink(1),{borderWidth:1,borderStyle:"solid"},r?{background:o.Br[r].dimmest,borderColor:o.Br[r].dimmer,color:o.Br[r].strongest}:{background:"var(--interactive-background)",borderColor:"var(--interactive-border)",color:i.TV.foregroundDefault}];return(0,f.BX)(a.Z,{css:g,children:[(0,f.BX)(a.Z,{css:[i.l0.rowWithGap(8),i.l0.center,i.l0.flex.growAndShrink(1),"",""],children:[d&&n.cloneElement(d,{size:16}),(0,f.tZ)(u.x,{css:i.l0.flex.growAndShrink(1),variant:"small",multiline:!0,children:p})]}),t&&(0,f.tZ)(c.Z,{elevated:!0,css:[i.l0.flex.grow(0),"background:transparent;",""],children:(0,f.tZ)(s.Z,{alt:"Close",tooltipHidden:!0,colorway:r,onClick:v,children:(0,f.tZ)(l.Z,{})})})]})}},32087:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(92809),o=(t(67294),t(96622)),u=t(35944);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e){return(0,u.tZ)(o.Z,a(a({},e),{},{children:(0,u.tZ)("path",{d:"M5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21ZM5 21L16 10L21 15M10 8.5C10 9.32843 9.32843 10 8.5 10C7.67157 10 7 9.32843 7 8.5C7 7.67157 7.67157 7 8.5 7C9.32843 7 10 7.67157 10 8.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}},5537:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(92809),o=(t(67294),t(96622)),u=t(35944);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e){return(0,u.tZ)(o.Z,a(a({},e),{},{children:(0,u.tZ)("path",{d:"M17 3.0003C17.2626 2.73766 17.5744 2.52932 17.9176 2.38718C18.2608 2.24503 18.6286 2.17188 19 2.17188C19.3714 2.17187 19.7392 2.24503 20.0824 2.38718C20.4256 2.52932 20.7374 2.73766 21 3.0003C21.2626 3.26295 21.471 3.57475 21.6131 3.91791C21.7553 4.26107 21.8284 4.62887 21.8284 5.0003C21.8284 5.37174 21.7553 5.73953 21.6131 6.08269C21.471 6.42585 21.2626 6.73766 21 7.0003L7.5 20.5003L2 22.0003L3.5 16.5003L17 3.0003Z",strokeLinecap:"round",strokeLinejoin:"round"})}))}},50573:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(92809),o=(t(67294),t(96622)),u=t(35944);function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e){return(0,u.tZ)(o.Z,a(a({},e),{},{children:(0,u.tZ)("path",{d:"M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15M17 8L12 3M12 3L7 8M12 3V15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}))}}}]);
//# sourceMappingURL=4807-f8c8f6e62fbe37acd9a1.js.map